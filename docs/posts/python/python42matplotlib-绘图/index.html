<!DOCTYPE HTML>

<html><head>
    <title>LM</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="icon" href="/images/Infinite.png" type="image/x-icon">
    <link rel="stylesheet" href="/assets/css/main.css"/>
</head><body class="is-preload" id="top">
        

        <div id="wrapper">
<header id="header">
    <h1><a href="/" style="font-size: 1.2em">LM' s Note</a></h1>
    <nav class="links">
        <ul>
            <li><a href="/posts" style="font-size: 0.9em"><strong>Posts</strong></a></li>
        </ul>
    </nav>
    <nav class="main">
        <ul>
            <li class="search">
                <a class="fa-search" href="#search">Search</a>
                <form id="search" action="/404.html">
                    <input type="text" name="query" placeholder="请输入关键字"/>
                </form>
            </li>
            
        </ul>
    </nav>
</header>
            
<div id="main">
    <header>
            <div class="title">
                <h2 style="font-size:2em"><a href="javascript:void(0)">Python(41)——matplotlib 绘图</a></h2>
                <p>@LM | 2021-11-23</p>
            </div>
        </header>
        <div class="content">
            <blockquote>
<p><a href="https://www.cnblogs.com/dudududu/p/9149762.html"> Python绘图与可视化 @小杜同学的嘚啵嘚 </a></p>
</blockquote>
<h2 id="1使用-matplotlib-进行绘图">1.使用 Matplotlib 进行绘图</h2>
<p>所谓“一图胜千言”，我们很多时候需要通过可视化的方式查看、分析数据，我们可以导入 Matplotlib 包，并通过 Pyplot 对 Matplotlib 进行操作来绘图</p>
<p>安装：pip install matplotlib</p>
<pre tabindex="0"><code>import matplotlib.pyplot as plt  # 约定俗成的写法 plt
# 首先定义两个函数（正弦&amp;余弦）
import numpy as np

X=np.linspace(-np.pi,np.pi,256,endpoint=True)  # -π，to+π 的 256 个值
C,S=np.cos(X),np.sin(X)
plt.plot(X,C)
plt.plot(X,S)
plt.show()
</code></pre><p><img src="https://gitee.com/LM-J/drawingbed/raw/master/img/20211105103941.png" alt=""></p>
<h2 id="2绘图命令的基本架构及其属性设置">2.绘图命令的基本架构及其属性设置</h2>
<p>上面的例子我们可以看出，几乎所有的属性和绘图的框架我们都选用默认设置。其作图时先要定义一个画布，此处的画布就是 Figure，然后再把其他素材“画”到该 Figure 上。</p>
<h3 id="a在-figure-上创建子-plot并设置属性">a.在 Figure 上创建子 plot，并设置属性</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">x<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>linspace(<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">10</span>,<span style="color:#ae81ff">1000</span>)  <span style="color:#75715e"># X轴数据</span>
y1<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>sin(x)     <span style="color:#75715e"># Y轴数据</span>
y2<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>cos(x<span style="color:#f92672">**</span><span style="color:#ae81ff">2</span>)  <span style="color:#75715e"># Y轴数据 x^2即x的平方</span>

plt<span style="color:#f92672">.</span>figure(figsize<span style="color:#f92672">=</span>(<span style="color:#ae81ff">8</span>,<span style="color:#ae81ff">4</span>))

plt<span style="color:#f92672">.</span>plot(x,y1,label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;$sin(x)$&#34;</span>,color<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;red&#34;</span>,linewidth<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)  <span style="color:#75715e"># 将$包围的内容渲染为数学公式</span>
plt<span style="color:#f92672">.</span>plot(x,y2,<span style="color:#e6db74">&#34;b--&#34;</span>,label<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;$cos(x^2)$&#34;</span>)
<span style="color:#75715e"># 指定曲线的颜色和线性，如‘b--’表示蓝色虚线（b：蓝色，-：虚线）</span>

plt<span style="color:#f92672">.</span>xlabel(<span style="color:#e6db74">&#34;Time(s)&#34;</span>)
plt<span style="color:#f92672">.</span>ylabel(<span style="color:#e6db74">&#34;Volt&#34;</span>)
plt<span style="color:#f92672">.</span>title(<span style="color:#e6db74">&#34;PyPlot First Example&#34;</span>)

<span style="color:#e6db74">&#39;&#39;&#39;
</span><span style="color:#e6db74">使用关键字参数可以指定所绘制的曲线的各种属性：
</span><span style="color:#e6db74">label：给曲线指定一个标签名称，此标签将在图标中显示。如果标签字符串的前后都有字符&#39;$&#39;，则Matplotlib会使用其内嵌的LaTex引擎将其显示为数学公式
</span><span style="color:#e6db74">color：指定曲线的颜色。颜色可以用如下方法表示
</span><span style="color:#e6db74">       英文单词
</span><span style="color:#e6db74">       以‘#’字符开头的3个16进制数，如‘#ff0000’表示红色。
</span><span style="color:#e6db74">       以0~1的RGB表示，如（1.0,0.0,0.0）也表示红色。
</span><span style="color:#e6db74">linewidth：指定权限的宽度，可以不是整数，也可以使用缩写形式的参数名lw。
</span><span style="color:#e6db74">&#39;&#39;&#39;</span>

plt<span style="color:#f92672">.</span>ylim(<span style="color:#f92672">-</span><span style="color:#ae81ff">1.5</span>,<span style="color:#ae81ff">1.5</span>)
plt<span style="color:#f92672">.</span>legend() <span style="color:#75715e"># 显示左下角的图例</span>
plt<span style="color:#f92672">.</span>show()
</code></pre></div><h3 id="b在-figure-上创建多个子-plot">b.在 Figure 上创建多个子 plot</h3>
<p>如果需要绘制多幅图表的话，可以给 Figure 传递一个整数参数指定图表的序号，如果所指定序号的绘图对象已经存在的话，将不创建新的对象，而只是让它成为当前绘图对象。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">fig1<span style="color:#f92672">=</span>plt<span style="color:#f92672">.</span>figure(<span style="color:#ae81ff">2</span>)
plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">211</span>)
<span style="color:#75715e"># subplot(211)把绘图区域等分为2行*1列共两个区域，然后在区域1（上区域）中创建一个轴对象</span>
plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">212</span>)
<span style="color:#75715e"># 在区域2（下区域）创建一个轴对象</span>
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="https://gitee.com/LM-J/drawingbed/raw/master/img/20211105104100.png" alt=""></p>
<p>我们还可以通过命令再次拆分这些块（相当于 Word 中拆分单元格操作）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">f1<span style="color:#f92672">=</span>plt<span style="color:#f92672">.</span>figure(<span style="color:#ae81ff">5</span>)<span style="color:#75715e"># 弹出对话框时的标题，如果显示的形式为弹出对话框的话</span>
plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">221</span>)
plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">222</span>)
plt<span style="color:#f92672">.</span>subplot(<span style="color:#ae81ff">212</span>)
plt<span style="color:#f92672">.</span>subplots_adjust(left<span style="color:#f92672">=</span><span style="color:#ae81ff">0.08</span>,right<span style="color:#f92672">=</span><span style="color:#ae81ff">0.95</span>,wspace<span style="color:#f92672">=</span><span style="color:#ae81ff">0.25</span>,hspace<span style="color:#f92672">=</span><span style="color:#ae81ff">0.45</span>)
<span style="color:#75715e"># subplots_adjust的操作时类似于网页css格式化中的边距处理，左边距离多少？</span>
<span style="color:#75715e"># 右边距离多少？这取决于你需要绘制的大小和各个模块之间的间距</span>
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="https://gitee.com/LM-J/drawingbed/raw/master/img/20211105104112.png" alt=""></p>
<h3 id="c通过-axes-设置当前对象-plot-的属性">c.通过 Axes 设置当前对象 plot 的属性</h3>
<p>以上我们操作的是在 Figure 上绘制图案，但是当我们绘制图案过多，又需要选取不同的小模块进行格式化设置时，Axes 对象就能很好地解决这个问题。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">fig,axes<span style="color:#f92672">=</span>plt<span style="color:#f92672">.</span>subplots(nrows<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,ncols<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="https://gitee.com/LM-J/drawingbed/raw/master/img/20211105104152.png" alt=""></p>
<p>现在我们需要通过命令来操作每个 plot（subplot），设置它们的 title 并删除横纵坐标值。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">fig,axes<span style="color:#f92672">=</span>plt<span style="color:#f92672">.</span>subplots(nrows<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>,ncols<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>)
axes[<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set(title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Upper Left&#39;</span>)
axes[<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>set(title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Upper Right&#39;</span>)
axes[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">0</span>]<span style="color:#f92672">.</span>set(title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Lower Left&#39;</span>)
axes[<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">1</span>]<span style="color:#f92672">.</span>set(title<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;Lower Right&#39;</span>)

<span style="color:#75715e"># 通过Axes的flat属性进行遍历</span>
<span style="color:#66d9ef">for</span> ax <span style="color:#f92672">in</span> axes<span style="color:#f92672">.</span>flat:
    ax<span style="color:#f92672">.</span>set(xticks<span style="color:#f92672">=</span>[],yticks<span style="color:#f92672">=</span>[])
    <span style="color:#75715e"># xticks和yticks设置为空置</span>
plt<span style="color:#f92672">.</span>show()
</code></pre></div><p><img src="https://gitee.com/LM-J/drawingbed/raw/master/img/20211105104214.png" alt=""></p>
<p>另外，实际来说，plot 操作的底层操作就是 Axes 对象的操作，只不过如果我们不使用 Axes 而用 plot 操作时，它默认的是 plot.subplot(111)，也就是说 plot 其实是 Axes 的特例。</p>
<h3 id="d保存-figure-对象">d.保存 Figure 对象</h3>
<p>最后一项操作就是保存，我们绘图的目的是用在其他研究中，或者希望可以把研究结果保存下来，此时需要的操作时 save。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">plt<span style="color:#f92672">.</span>savefig(<span style="color:#e6db74">r</span><span style="color:#e6db74">&#34;C:\Users\123\Desktop\save_test.png&#34;</span>,dpi<span style="color:#f92672">=</span><span style="color:#ae81ff">520</span>)
<span style="color:#75715e"># 默认像素dpi是80</span>
</code></pre></div><p>很明显保存的像素越高，内存越大。此处只是用了 savefig 属性对 Figure 进行保存。</p>
<p>另外，除了上述的基本操作之外，Matplotlib 还有其他的绘图优势，此处只是简单介绍了它在绘图时所需要注意的事项，更多的属性设置请参考：<a href="https://matplotlib.org/api/">https://matplotlib.org/api/</a></p>

            <p style="margin-top:1em;"></p>
        </div>
        <footer>
            <p class="post-copyright-license" style="margin-top:1em; margin-bottom:1em">
                <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"
                                                            rel="noopener" target="_blank"><i
                    class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。
            </p>
        </footer>
    
    <ul class="actions pagination" style="margin-bottom:5px; float:right">
        <li><a href="#top" class="button large">回到顶部</a></li>
        
          <li><a href="https://ac-lm.github.io/posts/python/python41pyinstaller-%E6%89%93%E5%8C%85/" class="button large previous">上一页</a></li>
        
        
          <li><a href="https://ac-lm.github.io/posts/python/python43matplotlib-%E7%9A%84-backend/" class="button large next">下一页</a></li>
        
    </ul>
</div>


        </div>
<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/browser.min.js"></script>
<script src="/assets/js/breakpoints.min.js"></script>
<script src="/assets/js/util.js"></script>
<script src="/assets/js/main.js"></script></body>
</html>
