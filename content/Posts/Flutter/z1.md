# Flutter使用 Wakelock 插件控制屏幕常亮方法

[Flutter使用 Wakelock 插件控制屏幕常亮方法 - 简忆博客 (tpxhm.com)](https://www.tpxhm.com/fdetail/349.html)

有时我们在播放视频是需要使屏幕处于常亮状态，这时可以使用Wakelock 插件。

 wakelock在android的电源管理系统中扮演一个核心的角色，wakelock是一种锁的机制, 只要有task拿着这个锁, 系统就无法进入休眠, 可以被用户态进程和内核线程获得。这个锁可以是有超时的或者是没有超时的, 超时的锁会在时间过去以后自动解锁。如果没有锁了或者超时了, 内核就会启动标准linux的那套休眠机制机制来进入休眠。

安装使用说明：

1、添加到pubspec.yaml 文件

```
dependencies:  wakelock: ^0.1.4+1
```

2、获取插件：flutter pub get

3、在Manifest中添加如下权限

```
<uses-permission android:name="android.permission.WAKE_LOCK" />
```

4在页面引入和使用：

```
import 'package:wakelock/wakelock.dart';// ... // The following line will enable the Android and iOS wakelock.Wakelock.enable(); // The next line disables the wakelock again.Wakelock.disable();
```